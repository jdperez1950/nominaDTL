"use strict";(self.webpackChunkflexy=self.webpackChunkflexy||[]).push([[843],{843:(se,I,c)=>{c.r(I),c.d(I,{AuthenticationRoutes:()=>ie});var p=c(2168),f=c(177),r=c(9417),T=c(8032),m=c.n(T),d=c(2102),R=c(9042),_=c(8834),b=c(2765),e=c(4438),L=c(4019);function S(s,l){1&s&&(e.j41(0,"mat-error"),e.EFF(1," El nombre de usuario es requerido y debe tener al menos 4 caracteres. "),e.k0s())}function F(s,l){1&s&&(e.j41(0,"mat-error"),e.EFF(1," La contrase\xf1a es requerida. "),e.k0s())}function D(s,l){if(1&s&&(e.j41(0,"p",8),e.EFF(1),e.k0s()),2&s){const o=e.XpG();e.R7$(),e.JRh(o.errorMessage)}}let U=(()=>{class s{constructor(o,i){this.authService=o,this.router=i,this.errorMessage="",this.form=new r.gE({uname:new r.MJ("",[r.k0.required,r.k0.minLength(4)]),password:new r.MJ("",[r.k0.required])})}get f(){return this.form.controls}submit(){if(this.form.invalid)return void m().fire({title:"Formulario inv\xe1lido",text:"Por favor, completa todos los campos correctamente.",icon:"warning",confirmButtonText:"Entendido",confirmButtonColor:"var(--colorPrimario)"});const{uname:o,password:i}=this.form.value;o&&i&&this.authService.login(o,i).subscribe({next:t=>{localStorage.setItem("token",t.token),localStorage.setItem("permisos",t.permisos),m().fire({title:"\xa1Inicio de sesi\xf3n exitoso!",text:"Redirigiendo al inicio...",icon:"success",confirmButtonText:"OK",confirmButtonColor:"var(--colorPrimario)"}).then(()=>{this.router.navigate(["/inicio"])})},error:t=>{console.error("Error en el login:",t),m().fire({title:"Error en el login",text:"Usuario o contrase\xf1a incorrectos.",icon:"error",confirmButtonText:"Intentar de nuevo",confirmButtonColor:"var(--colorPrimario)"})}})}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(L.u),e.rXU(p.Ix))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-login-tradicional"]],standalone:!0,features:[e.aNF],decls:16,vars:5,consts:[[1,"m-t-30",3,"ngSubmit","formGroup"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","formControlName","uname","placeholder","Ingresa tu nombre de usuario"],[4,"ngIf"],["matInput","","type","password","formControlName","password","placeholder","Ingresa tu contrase\xf1a"],["mat-flat-button","","color","primary","type","submit",1,"w-100",3,"disabled"],["class","error-message text-center",4,"ngIf"],[1,"error-message","text-center"]],template:function(i,t){1&i&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return t.submit()}),e.j41(1,"mat-label",1),e.EFF(2,"Nombre de usuario"),e.k0s(),e.j41(3,"mat-form-field",2),e.nrm(4,"input",3),e.DNE(5,S,2,0,"mat-error",4),e.k0s(),e.nrm(6,"br")(7,"br"),e.j41(8,"mat-label",1),e.EFF(9,"Contrase\xf1a"),e.k0s(),e.j41(10,"mat-form-field",2),e.nrm(11,"input",5),e.DNE(12,F,2,0,"mat-error",4),e.k0s(),e.j41(13,"button",6),e.EFF(14," Iniciar sesi\xf3n "),e.k0s(),e.DNE(15,D,2,1,"p",7),e.k0s()),2&i&&(e.Y8G("formGroup",t.form),e.R7$(5),e.Y8G("ngIf",t.f.uname.invalid&&t.f.uname),e.R7$(7),e.Y8G("ngIf",t.f.password.invalid&&t.f.password),e.R7$(),e.Y8G("disabled",t.form.invalid),e.R7$(2),e.Y8G("ngIf",t.errorMessage))},dependencies:[r.X1,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,d.RG,d.rl,d.nJ,d.TL,R.fS,R.fg,_.Hl,_.$z,b.g7,f.MD,f.bT,p.iI]})}}return s})();var O=c(467),E=c(4412),C=c(2771),N=c(1413);class M extends N.B{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(l){const{hasError:o,_hasValue:i,_value:t,thrownError:n,isStopped:a,_isComplete:u}=this;o?l.error(n):(a||u)&&(i&&l.next(t),l.complete())}next(l){this.isStopped||(this._value=l,this._hasValue=!0)}complete(){const{_hasValue:l,_value:o,_isComplete:i}=this;i||(this._isComplete=!0,l&&super.next(o),super.complete())}}var j=c(4402),P=c(5245),A=c(5964),G=c(6697);class V{constructor(){}loadScript(l,o,i,t=null){if(typeof document<"u"&&!document.getElementById(l)){let n=document.createElement("script");n.async=!0,n.src=o,n.onload=i,t||(t=document.head),t.appendChild(n)}}}class z{}const B={oneTapEnabled:!0};let g=(()=>{class s extends V{static{this.PROVIDER_ID="GOOGLE"}constructor(o,i){super(),this.clientId=o,this.initOptions=i,this.changeUser=new e.bkB,this._socialUser=new E.t(null),this._accessToken=new E.t(null),this._receivedAccessToken=new e.bkB,this.initOptions={...B,...this.initOptions},this._socialUser.pipe((0,P.i)(1)).subscribe(this.changeUser),this._accessToken.pipe((0,P.i)(1)).subscribe(this._receivedAccessToken)}initialize(o,i){return new Promise((t,n)=>{try{this.loadScript(s.PROVIDER_ID,this.getGoogleLoginScriptSrc(i),()=>{if(google.accounts.id.initialize({client_id:this.clientId,auto_select:o,callback:({credential:a})=>{const u=this.createSocialUser(a);this._socialUser.next(u)},prompt_parent_id:this.initOptions?.prompt_parent_id,itp_support:this.initOptions.oneTapEnabled,use_fedcm_for_prompt:this.initOptions.oneTapEnabled}),this.initOptions.oneTapEnabled&&this._socialUser.pipe((0,A.p)(a=>null===a)).subscribe(()=>google.accounts.id.prompt(console.debug)),this.initOptions.scopes){const a=this.initOptions.scopes instanceof Array?this.initOptions.scopes.filter(u=>u).join(" "):this.initOptions.scopes;this._tokenClient=google.accounts.oauth2.initTokenClient({client_id:this.clientId,scope:a,prompt:this.initOptions.prompt,callback:u=>{u.error?this._accessToken.error({code:u.error,description:u.error_description,uri:u.error_uri}):this._accessToken.next(u.access_token)}})}t()})}catch(a){n(a)}})}getLoginStatus(){return new Promise((o,i)=>{this._socialUser.value?o(this._socialUser.value):i(`No user is currently logged in with ${s.PROVIDER_ID}`)})}refreshToken(){return new Promise((o,i)=>{google.accounts.id.revoke(this._socialUser.value.id,t=>{t.error?i(t.error):o(this._socialUser.value)})})}getAccessToken(){return new Promise((o,i)=>{this._tokenClient?(this._tokenClient.requestAccessToken({hint:this._socialUser.value?.email}),this._receivedAccessToken.pipe((0,G.s)(1)).subscribe(o)):i(this._socialUser.value?"No token client was instantiated, you should specify some scopes.":"You should be logged-in first.")})}revokeAccessToken(){return new Promise((o,i)=>{this._tokenClient?this._accessToken.value?google.accounts.oauth2.revoke(this._accessToken.value,()=>{this._accessToken.next(null),o()}):i("No access token to revoke"):i("No token client was instantiated, you should specify some scopes.")})}signIn(){return Promise.reject('You should not call this method directly for Google, use "<asl-google-signin-button>" wrapper or generate the button yourself with "google.accounts.id.renderButton()" (https://developers.google.com/identity/gsi/web/guides/display-button#javascript)')}signOut(){var o=this;return(0,O.A)(function*(){google.accounts.id.disableAutoSelect(),o._socialUser.next(null)})()}createSocialUser(o){const i=new z;i.idToken=o;const t=this.decodeJwt(o);return i.id=t.sub,i.name=t.name,i.email=t.email,i.photoUrl=t.picture,i.firstName=t.given_name,i.lastName=t.family_name,i}decodeJwt(o){const t=o.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(window.atob(t).split("").map(function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(n)}getGoogleLoginScriptSrc(o){return o?`https://accounts.google.com/gsi/client?hl=${o}`:"https://accounts.google.com/gsi/client"}}return s})(),x=(()=>{class s{static{this.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found"}static{this.ERR_NOT_LOGGED_IN="Not logged in"}static{this.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?"}static{this.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token"}static{this.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN="Chosen login provider is not supported for getting an access token"}get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}constructor(o,i,t){this._ngZone=i,this._injector=t,this.providers=new Map,this.autoLogin=!1,this.lang="",this._user=null,this._authState=new C.m(1),this.initialized=!1,this._initState=new M,o instanceof Promise?o.then(n=>{this.initialize(n)}):this.initialize(o)}initialize(o){this.autoLogin=void 0!==o.autoLogin&&o.autoLogin,this.lang=void 0!==o.lang?o.lang:"";const{onError:i=console.error}=o;o.providers.forEach(t=>{this.providers.set(t.id,"prototype"in t.provider?this._injector.get(t.provider):t.provider)}),Promise.all(Array.from(this.providers.values()).map(t=>t.initialize(this.autoLogin,this.lang))).then(()=>{if(this.autoLogin){const t=[];let n=!1;this.providers.forEach((a,u)=>{const v=a.getLoginStatus();t.push(v),v.then(y=>{this.setUser(y,u),n=!0}).catch(console.debug)}),Promise.all(t).catch(()=>{n||(this._user=null,this._authState.next(null))})}this.providers.forEach((t,n)=>{(0,j.A)(t.changeUser)&&t.changeUser.subscribe(a=>{this._ngZone.run(()=>{this.setUser(a,n)})})})}).catch(t=>{i(t)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}getAccessToken(o){var i=this;return(0,O.A)(function*(){const t=i.providers.get(o);if(!i.initialized)throw s.ERR_NOT_INITIALIZED;if(!t)throw s.ERR_LOGIN_PROVIDER_NOT_FOUND;if(!(t instanceof g))throw s.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN;return yield t.getAccessToken()})()}refreshAuthToken(o){return new Promise((i,t)=>{if(this.initialized){const n=this.providers.get(o);n?"function"!=typeof n.refreshToken?t(s.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN):n.refreshToken().then(a=>{this.setUser(a,o),i()}).catch(a=>{t(a)}):t(s.ERR_LOGIN_PROVIDER_NOT_FOUND)}else t(s.ERR_NOT_INITIALIZED)})}refreshAccessToken(o){return new Promise((i,t)=>{if(this.initialized)if(o!==g.PROVIDER_ID)t(s.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const n=this.providers.get(o);n instanceof g?n.revokeAccessToken().then(i).catch(t):t(s.ERR_LOGIN_PROVIDER_NOT_FOUND)}else t(s.ERR_NOT_INITIALIZED)})}signIn(o,i){return new Promise((t,n)=>{if(this.initialized){let a=this.providers.get(o);a?a.signIn(i).then(u=>{this.setUser(u,o),t(u)}).catch(u=>{n(u)}):n(s.ERR_LOGIN_PROVIDER_NOT_FOUND)}else n(s.ERR_NOT_INITIALIZED)})}signOut(o=!1){return new Promise((i,t)=>{if(this.initialized)if(this._user){let a=this.providers.get(this._user.provider);a?a.signOut(o).then(()=>{i(),this.setUser(null)}).catch(u=>{t(u)}):t(s.ERR_LOGIN_PROVIDER_NOT_FOUND)}else t(s.ERR_NOT_LOGGED_IN);else t(s.ERR_NOT_INITIALIZED)})}setUser(o,i){o&&i&&(o.provider=i),this._user=o,this._authState.next(o)}static{this.\u0275fac=function(i){return new(i||s)(e.KVO("SocialAuthServiceConfig"),e.KVO(e.SKi),e.KVO(e.zZn))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var h=c(5596),k=c(5312);const K=()=>["/dashboard"];let Y=(()=>{class s{constructor(){this.logoExtensions=["png","jpg","jpeg","webp","svg"],this.logoSrc="./assets/images/logos/logoProyecto.jpg"}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-side-login"]],standalone:!0,features:[e.Jv_([x,{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:g.PROVIDER_ID,provider:new g(k.c.googleClientId)}]}}]),e.aNF],decls:16,vars:3,consts:[[1,"blank-layout-container"],[1,"login-wrapper"],[1,"text-center"],[3,"routerLink"],["alt","logo",1,"align-middle","m-2",2,"width","120px","height","120px","object-fit","contain",3,"src"],[1,"row","m-t-24","custom-row"],[1,"or-border","m-t-30"]],template:function(i,t){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-card")(3,"mat-card-content")(4,"div",2)(5,"a",3),e.nrm(6,"img",4),e.k0s()(),e.j41(7,"div",5),e.nrm(8,"br")(9,"br")(10,"br"),e.k0s(),e.j41(11,"div",6),e.EFF(12,"Inicia sesi\xf3n con"),e.k0s(),e.nrm(13,"app-login-tradicional")(14,"br")(15,"div"),e.k0s()()()()),2&i&&(e.R7$(5),e.Y8G("routerLink",e.lJ4(2,K)),e.R7$(),e.Y8G("src",t.logoSrc,e.B4B))},dependencies:[f.MD,p.iI,p.Wk,h.Hu,h.RN,h.m2,U],styles:[".blank-layout-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh}.blank-layout-container[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:16px}@media (max-width: 576px){.blank-layout-container[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]{padding:24px;max-width:100%}}.blank-layout-container[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{width:100%;box-shadow:0 4px 20px #0000001a;border-radius:8px}.blank-layout-container[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.blank-layout-container[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;object-fit:contain;margin:16px 0}"]})}}return s})();var w=c(1626),J=c(821);const q=()=>["/authentication/login"];function H(s,l){1&s&&(e.j41(0,"mat-error"),e.EFF(1," El nombre es obligatorio. "),e.k0s())}function Z(s,l){1&s&&(e.j41(0,"mat-error"),e.EFF(1," El nombre de usuario es obligatorio. "),e.k0s())}function X(s,l){1&s&&(e.j41(0,"mat-error"),e.EFF(1," El correo es obligatorio. "),e.k0s())}function W(s,l){1&s&&(e.j41(0,"mat-error"),e.EFF(1," El correo no es v\xe1lido. "),e.k0s())}function Q(s,l){1&s&&(e.j41(0,"mat-error"),e.EFF(1," La contrase\xf1a es obligatoria. "),e.k0s())}function ee(s,l){1&s&&(e.j41(0,"mat-error"),e.EFF(1," La contrase\xf1a debe tener al menos 8 caracteres. "),e.k0s())}function te(s,l){1&s&&(e.j41(0,"mat-error"),e.EFF(1," Debes confirmar tu contrase\xf1a. "),e.k0s())}function oe(s,l){1&s&&(e.j41(0,"mat-error"),e.EFF(1," Las contrase\xf1as no coinciden. "),e.k0s())}const ie=[{path:"",children:[{path:"login",component:Y},{path:"register",component:(()=>{class s{constructor(o,i){this.router=o,this.http=i,this.form=new r.gE({name:new r.MJ("",[r.k0.required]),username:new r.MJ("",[r.k0.required]),correo:new r.MJ("",[r.k0.required,r.k0.email]),password:new r.MJ("",[r.k0.required,r.k0.minLength(8)]),repeatedPassword:new r.MJ("",[r.k0.required,r.k0.minLength(8)])},{validators:this.passwordMatchValidator()})}goToLogin(){this.router.navigate(["/authentication/login"])}passwordMatchValidator(){return o=>{const i=o.get("password")?.value,t=o.get("repeatedPassword")?.value;return i===t?null:{passwordsMismatch:!0}}}get f(){return this.form.controls}submit(){if(this.form.valid){const o={name:this.form.get("name")?.value,username:this.form.get("username")?.value,correo:this.form.get("correo")?.value,password:this.form.get("password")?.value,repeatedPassword:this.form.get("repeatedPassword")?.value};console.log("Datos enviados al backend:",o),this.http.post(k.c.baseUrlRegistro,o).subscribe(i=>{console.log("Usuario registrado con \xe9xito:",i),this.router.navigate(["/authentication/login"]),m().fire({title:"\xa1Usuario registrado!",text:"El usuario se ha registrado correctamente.",icon:"success",confirmButtonText:"OK",confirmButtonColor:"var(--colorPrimario)"}).then(()=>{window.location.reload()})},i=>{console.error("Error al registrar usuario:",i),m().fire({title:"Error",text:i.error.backedMessage||"Error al registrar. Por favor, intenta nuevamente.",icon:"error",confirmButtonText:"Cerrar",confirmButtonColor:"var(--colorPrimario)"})})}else m().fire({title:"Formulario inv\xe1lido",text:"Por favor, revisa los campos del formulario.",icon:"warning",confirmButtonText:"Entendido",confirmButtonColor:"var(--colorPrimario)"})}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(p.Ix),e.rXU(w.Qq))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-side-register"]],standalone:!0,features:[e.aNF],decls:40,vars:12,consts:[[1,"blank-layout-container","justify-content-center","align-items-center","bg-light"],[1,"position-relative","row","w-100","h-100","bg-gredient","justify-content-center"],[1,"col-lg-4","d-flex","align-items-center"],[1,"cardWithShadow","boxed-auth"],[1,"p-32"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"w-100"],["matInput","","formControlName","name","placeholder","Ingresa tu nombre"],[4,"ngIf"],["matInput","","formControlName","username","placeholder","Ingresa tu usuario"],["matInput","","type","email","formControlName","correo","placeholder","Ingresa tu correo"],["matInput","","type","password","formControlName","password","placeholder","Ingresa tu contrase\xf1a"],["matInput","","type","password","formControlName","repeatedPassword","placeholder","Repite tu contrase\xf1a"],["mat-flat-button","","color","primary","type","submit",1,"w-100",3,"disabled"],[1,"d-block","f-w-500","text-center","m-t-24"],[1,"text-decoration-none","text-primary","f-w-500","f-s-14",3,"routerLink"]],template:function(i,t){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-content",4)(5,"form",5),e.bIt("ngSubmit",function(){return t.submit()}),e.j41(6,"mat-form-field",6)(7,"mat-label"),e.EFF(8,"Nombre"),e.k0s(),e.nrm(9,"input",7),e.DNE(10,H,2,0,"mat-error",8),e.k0s(),e.j41(11,"mat-form-field",6)(12,"mat-label"),e.EFF(13,"Nombre de usuario"),e.k0s(),e.nrm(14,"input",9),e.DNE(15,Z,2,0,"mat-error",8),e.k0s(),e.j41(16,"mat-form-field",6)(17,"mat-label"),e.EFF(18,"Correo electr\xf3nico"),e.k0s(),e.nrm(19,"input",10),e.DNE(20,X,2,0,"mat-error",8)(21,W,2,0,"mat-error",8),e.k0s(),e.j41(22,"mat-form-field",6)(23,"mat-label"),e.EFF(24,"Contrase\xf1a"),e.k0s(),e.nrm(25,"input",11),e.DNE(26,Q,2,0,"mat-error",8)(27,ee,2,0,"mat-error",8),e.k0s(),e.j41(28,"mat-form-field",6)(29,"mat-label"),e.EFF(30,"Repetir Contrase\xf1a"),e.k0s(),e.nrm(31,"input",12),e.DNE(32,te,2,0,"mat-error",8)(33,oe,2,0,"mat-error",8),e.k0s(),e.j41(34,"button",13),e.EFF(35," Registrarse "),e.k0s(),e.j41(36,"span",14),e.EFF(37," \xbfYa tienes una cuenta? "),e.j41(38,"a",15),e.EFF(39," Volver al login"),e.k0s()()()()()()()()),2&i&&(e.R7$(5),e.Y8G("formGroup",t.form),e.R7$(5),e.Y8G("ngIf",(null==t.f.name?null:t.f.name.hasError("required"))&&(null==t.f.name?null:t.f.name.untouched)),e.R7$(5),e.Y8G("ngIf",(null==t.f.username?null:t.f.username.hasError("required"))&&(null==t.f.username?null:t.f.username.untouched)),e.R7$(5),e.Y8G("ngIf",(null==t.f.correo?null:t.f.correo.hasError("required"))&&(null==t.f.correo?null:t.f.correo.untouched)),e.R7$(),e.Y8G("ngIf",(null==t.f.correo?null:t.f.correo.hasError("email"))&&(null==t.f.correo?null:t.f.correo.untouched)),e.R7$(5),e.Y8G("ngIf",(null==t.f.password?null:t.f.password.hasError("required"))&&(null==t.f.password?null:t.f.password.untouched)),e.R7$(),e.Y8G("ngIf",(null==t.f.password?null:t.f.password.hasError("minlength"))&&(null==t.f.password?null:t.f.password.untouched)),e.R7$(5),e.Y8G("ngIf",(null==t.f.repeatedPassword?null:t.f.repeatedPassword.hasError("required"))&&(null==t.f.repeatedPassword?null:t.f.repeatedPassword.untouched)),e.R7$(),e.Y8G("ngIf",(null==t.form.errors?null:t.form.errors.passwordsMismatch)&&(null==t.f.repeatedPassword?null:t.f.repeatedPassword.untouched)),e.R7$(),e.Y8G("disabled",t.form.invalid),e.R7$(4),e.Y8G("routerLink",e.lJ4(11,q)))},dependencies:[p.iI,p.Wk,J.G,_.$z,d.rl,d.nJ,d.TL,R.fg,h.RN,h.m2,r.YN,r.qT,r.me,r.BC,r.cb,r.X1,r.j4,r.JD,w.q1,f.bT],encapsulation:2})}}return s})()}]}]}}]);